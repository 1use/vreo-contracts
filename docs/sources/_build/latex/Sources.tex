%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[a4paper,10pt,english,openany]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax

\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
 \ifdefined\DeclareUnicodeCharacterAsOptional
  \DeclareUnicodeCharacter{"00A0}{\nobreakspace}
  \DeclareUnicodeCharacter{"2500}{\sphinxunichar{2500}}
  \DeclareUnicodeCharacter{"2502}{\sphinxunichar{2502}}
  \DeclareUnicodeCharacter{"2514}{\sphinxunichar{2514}}
  \DeclareUnicodeCharacter{"251C}{\sphinxunichar{251C}}
  \DeclareUnicodeCharacter{"2572}{\textbackslash}
 \else
  \DeclareUnicodeCharacter{00A0}{\nobreakspace}
  \DeclareUnicodeCharacter{2500}{\sphinxunichar{2500}}
  \DeclareUnicodeCharacter{2502}{\sphinxunichar{2502}}
  \DeclareUnicodeCharacter{2514}{\sphinxunichar{2514}}
  \DeclareUnicodeCharacter{251C}{\sphinxunichar{251C}}
  \DeclareUnicodeCharacter{2572}{\textbackslash}
 \fi
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}
\usepackage{times}
\usepackage[Bjarne]{fncychap}
\usepackage[dontkeepoldnames]{sphinx}
\sphinxsetup{verbatimwithframe=true,VerbatimBorderColor={rgb}{0.9,0.9,0.9}}
\usepackage{geometry}

% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\addto\captionsenglish{\renewcommand{\figurename}{Fig.}}
\addto\captionsenglish{\renewcommand{\tablename}{Table}}
\addto\captionsenglish{\renewcommand{\literalblockname}{Listing}}

\addto\captionsenglish{\renewcommand{\literalblockcontinuedname}{continued from previous page}}
\addto\captionsenglish{\renewcommand{\literalblockcontinuesname}{continues on next page}}

\addto\extrasenglish{\def\pageautorefname{page}}

\setcounter{tocdepth}{1}


\usepackage{helvet}
\usepackage{inconsolata}
\renewcommand{\familydefault}{\sfdefault}
\let\stdsection\section
\renewcommand\section{\clearpage\stdsection}


\title{Vreo ICO Solidity Smart Contracts}
\date{Jun 06, 2018}
\release{1}
\author{Sicos et al.}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex

\begin{document}

\maketitle
\sphinxtableofcontents
\phantomsection\label{\detokenize{index::doc}}



\chapter{VreoToken}
\label{\detokenize{_contracts/VreoToken:tokenplatform-s-solidity-sources}}\label{\detokenize{_contracts/VreoToken:vreotoken}}\label{\detokenize{_contracts/VreoToken::doc}}
\begin{sphinxVerbatim}[commandchars=\\\{\},numbers=left,firstnumber=1,stepnumber=1]
\PYG{k+kr}{pragma} \PYG{n+nx}{solidity} \PYG{l+m+mf}{0.4}\PYG{l+m+mf}{.24}\PYG{p}{;}

\PYG{k+kr}{import} \PYG{l+s+s2}{\PYGZdq{}../zeppelin/token/ERC20/CappedToken.sol\PYGZdq{}}\PYG{p}{;}
\PYG{k+kr}{import} \PYG{l+s+s2}{\PYGZdq{}../zeppelin/token/ERC20/PausableToken.sol\PYGZdq{}}\PYG{p}{;}
\PYG{k+kr}{import} \PYG{l+s+s2}{\PYGZdq{}../zeppelin/token/ERC20/BurnableToken.sol\PYGZdq{}}\PYG{p}{;}


\PYG{c+c1}{/// @title VreoToken}
\PYG{c+c1}{/// @author Autogenerated from a Dia UML diagram}
\PYG{k+kd}{contract} \PYG{n+nx}{VreoToken} \PYG{k+kr}{is} \PYG{n+nx}{CappedToken}\PYG{p}{,} \PYG{n+nx}{PausableToken}\PYG{p}{,} \PYG{n+nx}{BurnableToken} \PYG{p}{\PYGZob{}}

    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{k+kr}{constant} \PYG{n+nx}{TOTAL\PYGZus{}TOKEN\PYGZus{}CAP} \PYG{o}{=} \PYG{l+m+mf}{700000000e18}\PYG{p}{;}  \PYG{c+c1}{// = 700.000.000 e18}

    \PYG{k+kt}{string} \PYG{k+kr}{public} \PYG{n+nx}{name} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}Vreo MTC\PYGZdq{}}\PYG{p}{;}
    \PYG{k+kt}{string} \PYG{k+kr}{public} \PYG{n+nx}{symbol} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}MTC\PYGZdq{}}\PYG{p}{;}
    \PYG{k+kt}{uint8} \PYG{k+kr}{public} \PYG{n+nx}{decimals} \PYG{o}{=} \PYG{l+m+mi}{18}\PYG{p}{;}

    \PYG{c+c1}{/// @dev Constructor}
    \PYG{k+kd}{constructor}\PYG{p}{(}\PYG{p}{)} \PYG{k+kr}{public} \PYG{n+nx}{CappedToken}\PYG{p}{(}\PYG{n+nx}{TOTAL\PYGZus{}TOKEN\PYGZus{}CAP}\PYG{p}{)} \PYG{p}{\PYGZob{}}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Burn}
    \PYG{c+c1}{/// @param \PYGZus{}value A positive number}
    \PYG{k+kd}{function} \PYG{n+nx}{burn}\PYG{p}{(}\PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}value}\PYG{p}{)} \PYG{k+kr}{public} \PYG{n+nx}{whenNotPaused} \PYG{p}{\PYGZob{}}
        \PYG{k+kr}{super}\PYG{p}{.}\PYG{n+nx}{burn}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}value}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}

\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\chapter{VreoTokenSale}
\label{\detokenize{_contracts/VreoTokenSale::doc}}\label{\detokenize{_contracts/VreoTokenSale:vreotokensale}}
\begin{sphinxVerbatim}[commandchars=\\\{\},numbers=left,firstnumber=1,stepnumber=1]
\PYG{k+kr}{pragma} \PYG{n+nx}{solidity} \PYG{l+m+mf}{0.4}\PYG{l+m+mf}{.24}\PYG{p}{;}

\PYG{k+kr}{import} \PYG{l+s+s2}{\PYGZdq{}../zeppelin/crowdsale/distribution/FinalizableCrowdsale.sol\PYGZdq{}}\PYG{p}{;}
\PYG{k+kr}{import} \PYG{l+s+s2}{\PYGZdq{}../zeppelin/crowdsale/emission/MintedCrowdsale.sol\PYGZdq{}}\PYG{p}{;}
\PYG{k+kr}{import} \PYG{l+s+s2}{\PYGZdq{}./VreoTokenBounty.sol\PYGZdq{}}\PYG{p}{;}
\PYG{k+kr}{import} \PYG{l+s+s2}{\PYGZdq{}./IconiqInterface.sol\PYGZdq{}}\PYG{p}{;}


\PYG{c+c1}{/// @title VreoTokenSale}
\PYG{c+c1}{/// @author Autogenerated from a Dia UML diagram}
\PYG{k+kd}{contract} \PYG{n+nx}{VreoTokenSale} \PYG{k+kr}{is} \PYG{n+nx}{FinalizableCrowdsale}\PYG{p}{,} \PYG{n+nx}{MintedCrowdsale} \PYG{p}{\PYGZob{}}

    \PYG{k+kd}{struct} \PYG{n+nx}{Investment} \PYG{p}{\PYGZob{}}
        \PYG{k+kt}{bool} \PYG{n+nx}{isVerified}\PYG{p}{;} \PYG{c+c1}{// wether or not the investor passed the KYC process}
        \PYG{k+kt}{uint} \PYG{n+nx}{value}\PYG{p}{;}      \PYG{c+c1}{// invested wei}
        \PYG{k+kt}{uint} \PYG{n+nx}{amount}\PYG{p}{;}     \PYG{c+c1}{// amount of token quantums the investor wants to purchase}
    \PYG{p}{\PYGZcb{}}

    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{k+kr}{constant} \PYG{n+nx}{TOKEN\PYGZus{}SHARE\PYGZus{}OF\PYGZus{}TEAM} \PYG{o}{=} \PYG{l+m+mf}{85000000e18}\PYG{p}{;}       \PYG{c+c1}{// =  85.000.000 e18}
    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{k+kr}{constant} \PYG{n+nx}{TOKEN\PYGZus{}SHARE\PYGZus{}OF\PYGZus{}ADVISORS} \PYG{o}{=} \PYG{l+m+mf}{58000000e18}\PYG{p}{;}   \PYG{c+c1}{// =  58.000.000 e18}
    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{k+kr}{constant} \PYG{n+nx}{TOKEN\PYGZus{}SHARE\PYGZus{}OF\PYGZus{}LEGALS} \PYG{o}{=} \PYG{l+m+mf}{57000000e18}\PYG{p}{;}     \PYG{c+c1}{// =  57.000.000 e18}
    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{k+kr}{constant} \PYG{n+nx}{TOKEN\PYGZus{}SHARE\PYGZus{}OF\PYGZus{}BOUNTY} \PYG{o}{=} \PYG{l+m+mf}{50000000e18}\PYG{p}{;}     \PYG{c+c1}{// =  50.000.000 e18}

    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{k+kr}{constant} \PYG{n+nx}{TOTAL\PYGZus{}TOKEN\PYGZus{}CAP\PYGZus{}OF\PYGZus{}SALE} \PYG{o}{=} \PYG{l+m+mf}{450000000e18}\PYG{p}{;}  \PYG{c+c1}{// = 450.000.000 e18}

    \PYG{c+c1}{// Extra token percentages}
    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{k+kr}{constant} \PYG{n+nx}{EXTRA\PYGZus{}TOKEN\PYGZus{}PCT\PYGZus{}IN\PYGZus{}ICONIQ\PYGZus{}SALE} \PYG{o}{=} \PYG{l+m+mi}{20}\PYG{p}{;}
    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{k+kr}{constant} \PYG{n+nx}{EXTRA\PYGZus{}TOKEN\PYGZus{}PCT\PYGZus{}IN\PYGZus{}VREO\PYGZus{}PRESALE} \PYG{o}{=} \PYG{l+m+mi}{15}\PYG{p}{;}

    \PYG{c+c1}{// Minimum duration of KYC verification before finalization}
    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{k+kr}{constant} \PYG{n+nx}{MINIMUM\PYGZus{}KYC\PYGZus{}VERIFICATION\PYGZus{}PERIOD} \PYG{o}{=} \PYG{l+m+mi}{14} \PYG{k+kp}{days}\PYG{p}{;}

    \PYG{c+c1}{// Amount of available tokens}
    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{n+nx}{remainingTokensForSale}\PYG{p}{;}

    \PYG{c+c1}{// Opening and closing times of different sale periods}
    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{n+nx}{openingTimeOfIconiqSale}\PYG{p}{;}
    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{n+nx}{closingTimeOfIconiqSale}\PYG{p}{;}
    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{n+nx}{openingTimeOfVreoPresale}\PYG{p}{;}
    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{n+nx}{closingTimeOfVreoPresale}\PYG{p}{;}
    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{n+nx}{openingTimeOfPublicSale}\PYG{p}{;}
    \PYG{k+kt}{uint} \PYG{k+kr}{public} \PYG{n+nx}{closingTimeOfPublicSale}\PYG{p}{;}

    \PYG{n+nx}{IconiqInterface} \PYG{k+kr}{public} \PYG{n+nx}{iconiq}\PYG{p}{;}
    \PYG{k+kt}{address} \PYG{k+kr}{public} \PYG{n+nx}{teamAccount}\PYG{p}{;}
    \PYG{k+kt}{address} \PYG{k+kr}{public} \PYG{n+nx}{advisorsAccount}\PYG{p}{;}
    \PYG{k+kt}{address} \PYG{k+kr}{public} \PYG{n+nx}{legalsAccount}\PYG{p}{;}
    \PYG{n+nx}{VreoTokenBounty} \PYG{k+kr}{public} \PYG{n+nx}{bounty}\PYG{p}{;}

    \PYG{k+kd}{mapping}\PYG{p}{(}\PYG{k+kt}{address} \PYG{o}{=\PYGZgt{}} \PYG{n+nx}{Investment}\PYG{p}{)} \PYG{k+kr}{public} \PYG{n+nx}{investments}\PYG{p}{;}

    \PYG{c+c1}{/// @dev Log entry on rate changed}
    \PYG{c+c1}{/// @param newRate A positive number}
    \PYG{k+kd}{event} \PYG{n+nx}{RateChanged}\PYG{p}{(}\PYG{k+kt}{uint} \PYG{n+nx}{newRate}\PYG{p}{)}\PYG{p}{;}

    \PYG{c+c1}{/// @dev Log entry on investor verified}
    \PYG{c+c1}{/// @param investor An Ethereum address}
    \PYG{k+kd}{event} \PYG{n+nx}{InvestorVerified}\PYG{p}{(}\PYG{k+kt}{address} \PYG{n+nx}{investor}\PYG{p}{)}\PYG{p}{;}

    \PYG{c+c1}{/// @dev Log entry on investor falsified}
    \PYG{c+c1}{/// @param investor An Ethereum address}
    \PYG{k+kd}{event} \PYG{n+nx}{InvestorFalsified}\PYG{p}{(}\PYG{k+kt}{address} \PYG{n+nx}{investor}\PYG{p}{)}\PYG{p}{;}

    \PYG{c+c1}{/// @dev Log entry on token delivered}
    \PYG{c+c1}{/// @param investor An Ethereum address}
    \PYG{c+c1}{/// @param amount A positive number}
    \PYG{k+kd}{event} \PYG{n+nx}{TokensDelivered}\PYG{p}{(}\PYG{k+kt}{address} \PYG{n+nx}{investor}\PYG{p}{,} \PYG{k+kt}{uint} \PYG{n+nx}{amount}\PYG{p}{)}\PYG{p}{;}

    \PYG{c+c1}{/// @dev Log entry on withdrawn}
    \PYG{c+c1}{/// @param investor An Ethereum address}
    \PYG{c+c1}{/// @param value A positive number}
    \PYG{k+kd}{event} \PYG{n+nx}{Withdrawn}\PYG{p}{(}\PYG{k+kt}{address} \PYG{n+nx}{investor}\PYG{p}{,} \PYG{k+kt}{uint} \PYG{n+nx}{value}\PYG{p}{)}\PYG{p}{;}

    \PYG{c+c1}{/// @dev Constructor}
    \PYG{c+c1}{/// @param \PYGZus{}token A VreoToken}
    \PYG{c+c1}{/// @param \PYGZus{}openingTimeOfIconiqSale A positive number}
    \PYG{c+c1}{/// @param \PYGZus{}closingTimeOfIconiqSale A positive number}
    \PYG{c+c1}{/// @param \PYGZus{}openingTimeOfVreoPresale A positive number}
    \PYG{c+c1}{/// @param \PYGZus{}closingTimeOfVreoPresale A positive number}
    \PYG{c+c1}{/// @param \PYGZus{}openingTimeOfPublicSale A positive number}
    \PYG{c+c1}{/// @param \PYGZus{}closingTimeOfPublicSale A positive number}
    \PYG{c+c1}{/// @param \PYGZus{}rate A positive number}
    \PYG{c+c1}{/// @param \PYGZus{}iconiq An IconiqInterface}
    \PYG{c+c1}{/// @param \PYGZus{}teamAccount An Ethereum address}
    \PYG{c+c1}{/// @param \PYGZus{}advisorsAccount An Ethereum address}
    \PYG{c+c1}{/// @param \PYGZus{}legalsAccount An Ethereum address}
    \PYG{c+c1}{/// @param \PYGZus{}bounty A VreoTokenBounty}
    \PYG{c+c1}{/// @param \PYGZus{}wallet An Ethereum address}
    \PYG{k+kd}{constructor}\PYG{p}{(}
        \PYG{n+nx}{VreoToken} \PYG{n+nx}{\PYGZus{}token}\PYG{p}{,}
        \PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}openingTimeOfIconiqSale}\PYG{p}{,}
        \PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}closingTimeOfIconiqSale}\PYG{p}{,}
        \PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}openingTimeOfVreoPresale}\PYG{p}{,}
        \PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}closingTimeOfVreoPresale}\PYG{p}{,}
        \PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}openingTimeOfPublicSale}\PYG{p}{,}
        \PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}closingTimeOfPublicSale}\PYG{p}{,}
        \PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}rate}\PYG{p}{,}
        \PYG{n+nx}{IconiqInterface} \PYG{n+nx}{\PYGZus{}iconiq}\PYG{p}{,}
        \PYG{k+kt}{address} \PYG{n+nx}{\PYGZus{}teamAccount}\PYG{p}{,}
        \PYG{k+kt}{address} \PYG{n+nx}{\PYGZus{}advisorsAccount}\PYG{p}{,}
        \PYG{k+kt}{address} \PYG{n+nx}{\PYGZus{}legalsAccount}\PYG{p}{,}
        \PYG{n+nx}{VreoTokenBounty} \PYG{n+nx}{\PYGZus{}bounty}\PYG{p}{,}
        \PYG{k+kt}{address} \PYG{n+nx}{\PYGZus{}wallet}
    \PYG{p}{)}
        \PYG{k+kr}{public}
        \PYG{n+nx}{Crowdsale}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}rate}\PYG{p}{,} \PYG{n+nx}{\PYGZus{}wallet}\PYG{p}{,} \PYG{n+nx}{\PYGZus{}token}\PYG{p}{)}
        \PYG{n+nx}{TimedCrowdsale}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}openingTimeOfIconiqSale}\PYG{p}{,} \PYG{n+nx}{\PYGZus{}closingTimeOfPublicSale}\PYG{p}{)}
    \PYG{p}{\PYGZob{}}
        \PYG{c+c1}{// Token sanity check}
        \PYG{n+nb}{require}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}token}\PYG{p}{.}\PYG{n+nx}{cap}\PYG{p}{(}\PYG{p}{)} \PYG{o}{\PYGZgt{}=} \PYG{n+nx}{TOTAL\PYGZus{}TOKEN\PYGZus{}CAP\PYGZus{}OF\PYGZus{}SALE}
                                \PYG{o}{+} \PYG{n+nx}{TOKEN\PYGZus{}SHARE\PYGZus{}OF\PYGZus{}TEAM}
                                \PYG{o}{+} \PYG{n+nx}{TOKEN\PYGZus{}SHARE\PYGZus{}OF\PYGZus{}ADVISORS}
                                \PYG{o}{+} \PYG{n+nx}{TOKEN\PYGZus{}SHARE\PYGZus{}OF\PYGZus{}LEGALS}
                                \PYG{o}{+} \PYG{n+nx}{TOKEN\PYGZus{}SHARE\PYGZus{}OF\PYGZus{}BOUNTY}\PYG{p}{)}\PYG{p}{;}

        \PYG{c+c1}{// Ensure strict timing order}
        \PYG{n+nb}{require}\PYG{p}{(}\PYG{k+kp}{now} \PYG{o}{\PYGZlt{}} \PYG{n+nx}{\PYGZus{}openingTimeOfIconiqSale}
                \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{n+nx}{\PYGZus{}openingTimeOfIconiqSale} \PYG{o}{\PYGZlt{}} \PYG{n+nx}{\PYGZus{}closingTimeOfIconiqSale}
                \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{n+nx}{\PYGZus{}closingTimeOfIconiqSale} \PYG{o}{\PYGZlt{}} \PYG{n+nx}{\PYGZus{}openingTimeOfVreoPresale}
                \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{n+nx}{\PYGZus{}openingTimeOfVreoPresale} \PYG{o}{\PYGZlt{}} \PYG{n+nx}{\PYGZus{}closingTimeOfVreoPresale}
                \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{n+nx}{\PYGZus{}closingTimeOfVreoPresale} \PYG{o}{\PYGZlt{}} \PYG{n+nx}{\PYGZus{}openingTimeOfPublicSale}
                \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{n+nx}{\PYGZus{}openingTimeOfPublicSale} \PYG{o}{\PYGZlt{}} \PYG{n+nx}{\PYGZus{}closingTimeOfPublicSale}\PYG{p}{)}\PYG{p}{;}

        \PYG{c+c1}{// Sanity check of addresses}
        \PYG{n+nb}{require}\PYG{p}{(}\PYG{k+kt}{address}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}iconiq}\PYG{p}{)} \PYG{o}{!=} \PYG{k+kt}{address}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{)}
                \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{n+nx}{\PYGZus{}teamAccount} \PYG{o}{!=} \PYG{k+kt}{address}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{)}
                \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{n+nx}{\PYGZus{}advisorsAccount} \PYG{o}{!=} \PYG{k+kt}{address}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{)}
                \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{n+nx}{\PYGZus{}legalsAccount} \PYG{o}{!=} \PYG{k+kt}{address}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{)}
                \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{k+kt}{address}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}bounty}\PYG{p}{)} \PYG{o}{!=} \PYG{k+kt}{address}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{)}\PYG{p}{)}\PYG{p}{;}

        \PYG{n+nx}{remainingTokensForSale} \PYG{o}{=} \PYG{n+nx}{TOTAL\PYGZus{}TOKEN\PYGZus{}CAP\PYGZus{}OF\PYGZus{}SALE}\PYG{p}{;}

        \PYG{n+nx}{openingTimeOfIconiqSale} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}openingTimeOfIconiqSale}\PYG{p}{;}
        \PYG{n+nx}{openingTimeOfIconiqSale} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}closingTimeOfIconiqSale}\PYG{p}{;}
        \PYG{n+nx}{openingTimeOfVreoPresale} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}openingTimeOfVreoPresale}\PYG{p}{;}
        \PYG{n+nx}{closingTimeOfVreoPresale} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}closingTimeOfVreoPresale}\PYG{p}{;}
        \PYG{n+nx}{openingTimeOfPublicSale} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}openingTimeOfPublicSale}\PYG{p}{;}
        \PYG{n+nx}{closingTimeOfPublicSale} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}closingTimeOfPublicSale}\PYG{p}{;}

        \PYG{n+nx}{iconiq} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}iconiq}\PYG{p}{;}
        \PYG{n+nx}{teamAccount} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}teamAccount}\PYG{p}{;}
        \PYG{n+nx}{advisorsAccount} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}advisorsAccount}\PYG{p}{;}
        \PYG{n+nx}{legalsAccount} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}legalsAccount}\PYG{p}{;}
        \PYG{n+nx}{bounty} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}bounty}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Destroy}
    \PYG{k+kd}{function} \PYG{n+nx}{destroy}\PYG{p}{(}\PYG{p}{)} \PYG{k+kr}{public} \PYG{n+nx}{onlyOwner} \PYG{p}{\PYGZob{}}
        \PYG{c+c1}{// TBD}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Set rate}
    \PYG{c+c1}{/// @param \PYGZus{}newRate A positive number}
    \PYG{k+kd}{function} \PYG{n+nx}{setRate}\PYG{p}{(}\PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}newRate}\PYG{p}{)} \PYG{k+kr}{public} \PYG{n+nx}{onlyOwner} \PYG{p}{\PYGZob{}}
        \PYG{n+nb}{require}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}newRate} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{0}\PYG{p}{)}\PYG{p}{;}

        \PYG{n+nx}{rate} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}newRate}\PYG{p}{;}

        \PYG{k+kr}{emit} \PYG{n+nx}{RateChanged}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}newRate}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Verify investors}
    \PYG{c+c1}{/// @param \PYGZus{}investors A list where each entry is an Ethereum address}
    \PYG{k+kd}{function} \PYG{n+nx}{verifyInvestors}\PYG{p}{(}\PYG{k+kt}{address}\PYG{p}{[}\PYG{p}{]} \PYG{n+nx}{\PYGZus{}investors}\PYG{p}{)} \PYG{k+kr}{public} \PYG{n+nx}{onlyOwner} \PYG{p}{\PYGZob{}}
        \PYG{k}{for} \PYG{p}{(}\PYG{k+kt}{uint} \PYG{n+nx}{i} \PYG{o}{=} \PYG{l+m+mi}{0}\PYG{p}{;} \PYG{n+nx}{i} \PYG{o}{\PYGZlt{}} \PYG{n+nx}{\PYGZus{}investors}\PYG{p}{.}\PYG{n+nx}{length}\PYG{p}{;} \PYG{o}{++}\PYG{n+nx}{i}\PYG{p}{)} \PYG{p}{\PYGZob{}}
            \PYG{k+kt}{address} \PYG{n+nx}{investor} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}investors}\PYG{p}{[}\PYG{n+nx}{i}\PYG{p}{]}\PYG{p}{;}
            \PYG{n+nx}{Investment} \PYG{k+kd}{storage} \PYG{n+nx}{investment} \PYG{o}{=} \PYG{n+nx}{investments}\PYG{p}{[}\PYG{n+nx}{investor}\PYG{p}{]}\PYG{p}{;}

            \PYG{k}{if} \PYG{p}{(}\PYG{o}{!}\PYG{n+nx}{investment}\PYG{p}{.}\PYG{n+nx}{isVerified}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{investment}\PYG{p}{.}\PYG{n+nx}{isVerified} \PYG{o}{=} \PYG{k+kc}{true}\PYG{p}{;}

                \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{investment}\PYG{p}{.}\PYG{n+nx}{amount} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{0}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                    \PYG{n+nx}{fulfillInvestment}\PYG{p}{(}\PYG{n+nx}{investor}\PYG{p}{,} \PYG{n+nx}{investment}\PYG{p}{)}\PYG{p}{;}
                \PYG{p}{\PYGZcb{}}

                \PYG{k+kr}{emit} \PYG{n+nx}{InvestorVerified}\PYG{p}{(}\PYG{n+nx}{investor}\PYG{p}{)}\PYG{p}{;}
            \PYG{p}{\PYGZcb{}}
        \PYG{p}{\PYGZcb{}}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Falsify investors}
    \PYG{c+c1}{/// @param \PYGZus{}investors A list where each entry is an Ethereum address}
    \PYG{k+kd}{function} \PYG{n+nx}{falsifyInvestors}\PYG{p}{(}\PYG{k+kt}{address}\PYG{p}{[}\PYG{p}{]} \PYG{n+nx}{\PYGZus{}investors}\PYG{p}{)} \PYG{k+kr}{public} \PYG{n+nx}{onlyOwner} \PYG{p}{\PYGZob{}}
        \PYG{k}{for} \PYG{p}{(}\PYG{k+kt}{uint} \PYG{n+nx}{i} \PYG{o}{=} \PYG{l+m+mi}{0}\PYG{p}{;} \PYG{n+nx}{i} \PYG{o}{\PYGZlt{}} \PYG{n+nx}{\PYGZus{}investors}\PYG{p}{.}\PYG{n+nx}{length}\PYG{p}{;} \PYG{o}{++}\PYG{n+nx}{i}\PYG{p}{)} \PYG{p}{\PYGZob{}}
            \PYG{k+kt}{address} \PYG{n+nx}{investor} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}investors}\PYG{p}{[}\PYG{n+nx}{i}\PYG{p}{]}\PYG{p}{;}
            \PYG{n+nx}{Investment} \PYG{k+kd}{storage} \PYG{n+nx}{investment} \PYG{o}{=} \PYG{n+nx}{investments}\PYG{p}{[}\PYG{n+nx}{investor}\PYG{p}{]}\PYG{p}{;}

            \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{investment}\PYG{p}{.}\PYG{n+nx}{isVerified}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{investment}\PYG{p}{.}\PYG{n+nx}{isVerified} \PYG{o}{=} \PYG{k+kc}{false}\PYG{p}{;}

                \PYG{k+kr}{emit} \PYG{n+nx}{InvestorFalsified}\PYG{p}{(}\PYG{n+nx}{investor}\PYG{p}{)}\PYG{p}{;}
            \PYG{p}{\PYGZcb{}}
        \PYG{p}{\PYGZcb{}}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Withdraw}
    \PYG{k+kd}{function} \PYG{n+nx}{withdraw}\PYG{p}{(}\PYG{p}{)} \PYG{k+kr}{public} \PYG{p}{\PYGZob{}}
        \PYG{n+nb}{require}\PYG{p}{(}\PYG{n+nx}{hasClosed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}\PYG{p}{;}

        \PYG{n+nx}{Investment} \PYG{k+kd}{storage} \PYG{n+nx}{investment} \PYG{o}{=} \PYG{n+nx}{investments}\PYG{p}{[}\PYG{n+nx}{msg}\PYG{p}{.}\PYG{n+nx}{sender}\PYG{p}{]}\PYG{p}{;}
        \PYG{n+nx}{investment}\PYG{p}{.}\PYG{n+nx}{amount} \PYG{o}{=} \PYG{l+m+mi}{0}\PYG{p}{;}

        \PYG{k+kt}{uint} \PYG{n+nx}{value} \PYG{o}{=} \PYG{n+nx}{investment}\PYG{p}{.}\PYG{n+nx}{value}\PYG{p}{;}

        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{value} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{0}\PYG{p}{)} \PYG{p}{\PYGZob{}}
            \PYG{n+nx}{investment}\PYG{p}{.}\PYG{n+nx}{value} \PYG{o}{=} \PYG{l+m+mi}{0}\PYG{p}{;}

            \PYG{n+nx}{msg}\PYG{p}{.}\PYG{n+nx}{sender}\PYG{p}{.}\PYG{n+nx}{transfer}\PYG{p}{(}\PYG{n+nx}{value}\PYG{p}{)}\PYG{p}{;}

            \PYG{k+kr}{emit} \PYG{n+nx}{Withdrawn}\PYG{p}{(}\PYG{n+nx}{msg}\PYG{p}{.}\PYG{n+nx}{sender}\PYG{p}{,} \PYG{n+nx}{value}\PYG{p}{)}\PYG{p}{;}
        \PYG{p}{\PYGZcb{}}
    \PYG{p}{\PYGZcb{}}

    \PYG{k+kd}{function} \PYG{n+nx}{fulfillInvestment}\PYG{p}{(}\PYG{k+kt}{address} \PYG{n+nx}{\PYGZus{}investor}\PYG{p}{,} \PYG{n+nx}{Investment} \PYG{n+nx}{\PYGZus{}investment}\PYG{p}{)} \PYG{k+kr}{internal} \PYG{p}{\PYGZob{}}
        \PYG{k+kt}{uint} \PYG{n+nx}{value} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}investment}\PYG{p}{.}\PYG{n+nx}{value}\PYG{p}{;}
        \PYG{k+kt}{uint} \PYG{n+nx}{amount} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}investment}\PYG{p}{.}\PYG{n+nx}{amount}\PYG{p}{;}

        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{amount} \PYG{o}{\PYGZgt{}} \PYG{n+nx}{remainingTokensForSale}\PYG{p}{)} \PYG{p}{\PYGZob{}}
            \PYG{n+nx}{value} \PYG{o}{=} \PYG{n+nx}{value}\PYG{p}{.}\PYG{n+nx}{mul}\PYG{p}{(}\PYG{n+nx}{remainingTokensForSale}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{div}\PYG{p}{(}\PYG{n+nx}{amount}\PYG{p}{)}\PYG{p}{;}
            \PYG{n+nx}{amount} \PYG{o}{=} \PYG{n+nx}{remainingTokensForSale}\PYG{p}{;}
        \PYG{p}{\PYGZcb{}}

        \PYG{c+c1}{// Dev note: no overflow possible}

        \PYG{n+nx}{\PYGZus{}investment}\PYG{p}{.}\PYG{n+nx}{value} \PYG{o}{\PYGZhy{}=} \PYG{n+nx}{value}\PYG{p}{;}
        \PYG{n+nx}{\PYGZus{}investment}\PYG{p}{.}\PYG{n+nx}{amount} \PYG{o}{\PYGZhy{}=} \PYG{n+nx}{amount}\PYG{p}{;}

        \PYG{n+nx}{remainingTokensForSale} \PYG{o}{\PYGZhy{}=} \PYG{n+nx}{amount}\PYG{p}{;}

        \PYG{n+nx}{wallet}\PYG{p}{.}\PYG{n+nx}{transfer}\PYG{p}{(}\PYG{n+nx}{value}\PYG{p}{)}\PYG{p}{;}
        \PYG{n+nx}{\PYGZus{}deliverTokens}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}investor}\PYG{p}{,} \PYG{n+nx}{amount}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Pre validate purchase}
    \PYG{c+c1}{/// @param \PYGZus{}beneficiary An Ethereum address}
    \PYG{c+c1}{/// @param \PYGZus{}weiAmount A positive number}
    \PYG{k+kd}{function} \PYG{n+nx}{\PYGZus{}preValidatePurchase}\PYG{p}{(}\PYG{k+kt}{address} \PYG{n+nx}{\PYGZus{}beneficiary}\PYG{p}{,} \PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}weiAmount}\PYG{p}{)} \PYG{k+kr}{internal} \PYG{p}{\PYGZob{}}
        \PYG{n+nb}{require}\PYG{p}{(}\PYG{n+nx}{openingTimeOfIconiqSale} \PYG{o}{\PYGZlt{}=} \PYG{k+kp}{now} \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{k+kp}{now} \PYG{o}{\PYGZlt{}=} \PYG{n+nx}{closingTimeOfIconiqSale} \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{n+nx}{iconiq}\PYG{p}{.}\PYG{n+nx}{isAllowed}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}beneficiary}\PYG{p}{)}
             \PYG{o}{\textbar{}\textbar{}} \PYG{n+nx}{openingTimeOfVreoPresale} \PYG{o}{\PYGZlt{}=} \PYG{k+kp}{now} \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{k+kp}{now} \PYG{o}{\PYGZlt{}=} \PYG{n+nx}{closingTimeOfVreoPresale}
             \PYG{o}{\textbar{}\textbar{}} \PYG{n+nx}{openingTimeOfPublicSale} \PYG{o}{\PYGZlt{}=} \PYG{k+kp}{now} \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{k+kp}{now} \PYG{o}{\PYGZlt{}=} \PYG{n+nx}{closingTimeOfPublicSale}\PYG{p}{)}\PYG{p}{;}

        \PYG{k+kr}{super}\PYG{p}{.}\PYG{n+nx}{\PYGZus{}preValidatePurchase}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}beneficiary}\PYG{p}{,} \PYG{n+nx}{\PYGZus{}weiAmount}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Post validate purchase}
    \PYG{c+c1}{/// @param \PYGZus{}beneficiary An Ethereum address}
    \PYG{c+c1}{/// @param \PYGZus{}weiAmount A positive number}
    \PYG{k+kd}{function} \PYG{n+nx}{\PYGZus{}postValidatePurchase}\PYG{p}{(}\PYG{k+kt}{address} \PYG{n+nx}{\PYGZus{}beneficiary}\PYG{p}{,} \PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}weiAmount}\PYG{p}{)} \PYG{k+kr}{internal} \PYG{p}{\PYGZob{}}
        \PYG{c+c1}{// Nothing to do here...}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Deliver tokens}
    \PYG{c+c1}{/// @param \PYGZus{}beneficiary An Ethereum address}
    \PYG{c+c1}{/// @param \PYGZus{}tokenAmount A positive number}
    \PYG{k+kd}{function} \PYG{n+nx}{\PYGZus{}deliverTokens}\PYG{p}{(}\PYG{k+kt}{address} \PYG{n+nx}{\PYGZus{}beneficiary}\PYG{p}{,} \PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}tokenAmount}\PYG{p}{)} \PYG{k+kr}{internal} \PYG{p}{\PYGZob{}}
        \PYG{k+kr}{super}\PYG{p}{.}\PYG{n+nx}{\PYGZus{}deliverTokens}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}beneficiary}\PYG{p}{,} \PYG{n+nx}{\PYGZus{}tokenAmount}\PYG{p}{)}\PYG{p}{;}

        \PYG{k+kr}{emit} \PYG{n+nx}{TokensDelivered}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}beneficiary}\PYG{p}{,} \PYG{n+nx}{\PYGZus{}tokenAmount}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Process purchase}
    \PYG{c+c1}{/// @param \PYGZus{}beneficiary An Ethereum address}
    \PYG{c+c1}{/// @param \PYGZus{}tokenAmount A positive number}
    \PYG{k+kd}{function} \PYG{n+nx}{\PYGZus{}processPurchase}\PYG{p}{(}\PYG{k+kt}{address} \PYG{n+nx}{\PYGZus{}beneficiary}\PYG{p}{,} \PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}tokenAmount}\PYG{p}{)} \PYG{k+kr}{internal} \PYG{p}{\PYGZob{}}
        \PYG{n+nx}{Investment} \PYG{k+kd}{storage} \PYG{n+nx}{investment} \PYG{o}{=} \PYG{n+nx}{investments}\PYG{p}{[}\PYG{n+nx}{\PYGZus{}beneficiary}\PYG{p}{]}\PYG{p}{;}

        \PYG{n+nx}{investment}\PYG{p}{.}\PYG{n+nx}{value} \PYG{o}{=} \PYG{n+nx}{investment}\PYG{p}{.}\PYG{n+nx}{value}\PYG{p}{.}\PYG{n+nx}{add}\PYG{p}{(}\PYG{n+nx}{msg}\PYG{p}{.}\PYG{n+nx}{value}\PYG{p}{)}\PYG{p}{;}
        \PYG{n+nx}{investment}\PYG{p}{.}\PYG{n+nx}{amount} \PYG{o}{=} \PYG{n+nx}{investment}\PYG{p}{.}\PYG{n+nx}{amount}\PYG{p}{.}\PYG{n+nx}{add}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}tokenAmount}\PYG{p}{)}\PYG{p}{;}

        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{investment}\PYG{p}{.}\PYG{n+nx}{isVerified}\PYG{p}{)} \PYG{p}{\PYGZob{}}
            \PYG{n+nx}{fulfillInvestment}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}beneficiary}\PYG{p}{,} \PYG{n+nx}{investment}\PYG{p}{)}\PYG{p}{;}
        \PYG{p}{\PYGZcb{}}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Update purchasing state}
    \PYG{c+c1}{/// @param \PYGZus{}beneficiary An Ethereum address}
    \PYG{c+c1}{/// @param \PYGZus{}weiAmount A positive number}
    \PYG{k+kd}{function} \PYG{n+nx}{\PYGZus{}updatePurchasingState}\PYG{p}{(}\PYG{k+kt}{address} \PYG{n+nx}{\PYGZus{}beneficiary}\PYG{p}{,} \PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}weiAmount}\PYG{p}{)} \PYG{k+kr}{internal} \PYG{p}{\PYGZob{}}
        \PYG{c+c1}{// Nothing to do here...}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Get token amount}
    \PYG{c+c1}{/// @param \PYGZus{}weiAmount A positive number}
    \PYG{c+c1}{/// @return A positive number}
    \PYG{k+kd}{function} \PYG{n+nx}{\PYGZus{}getTokenAmount}\PYG{p}{(}\PYG{k+kt}{uint} \PYG{n+nx}{\PYGZus{}weiAmount}\PYG{p}{)} \PYG{k+kr}{internal} \PYG{k+kr}{view} \PYG{k+kr}{returns} \PYG{p}{(}\PYG{k+kt}{uint}\PYG{p}{)} \PYG{p}{\PYGZob{}}
        \PYG{k+kt}{uint} \PYG{n+nx}{amount} \PYG{o}{=} \PYG{k+kr}{super}\PYG{p}{.}\PYG{n+nx}{\PYGZus{}getTokenAmount}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}weiAmount}\PYG{p}{)}\PYG{p}{;}

        \PYG{k}{if} \PYG{p}{(}\PYG{k+kp}{now} \PYG{o}{\PYGZlt{}=} \PYG{n+nx}{closingTimeOfIconiqSale}\PYG{p}{)} \PYG{p}{\PYGZob{}}
            \PYG{k}{return} \PYG{n+nx}{amount}\PYG{p}{.}\PYG{n+nx}{mul}\PYG{p}{(}\PYG{l+m+mi}{100} \PYG{o}{+} \PYG{n+nx}{EXTRA\PYGZus{}TOKEN\PYGZus{}PCT\PYGZus{}IN\PYGZus{}ICONIQ\PYGZus{}SALE}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{div}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{p}{)}\PYG{p}{;}
        \PYG{p}{\PYGZcb{}}

        \PYG{k}{if} \PYG{p}{(}\PYG{k+kp}{now} \PYG{o}{\PYGZlt{}=} \PYG{n+nx}{closingTimeOfVreoPresale}\PYG{p}{)} \PYG{p}{\PYGZob{}}
            \PYG{k}{return} \PYG{n+nx}{amount}\PYG{p}{.}\PYG{n+nx}{mul}\PYG{p}{(}\PYG{l+m+mi}{100} \PYG{o}{+} \PYG{n+nx}{EXTRA\PYGZus{}TOKEN\PYGZus{}PCT\PYGZus{}IN\PYGZus{}VREO\PYGZus{}PRESALE}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{div}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{p}{)}\PYG{p}{;}
        \PYG{p}{\PYGZcb{}}

        \PYG{k}{return} \PYG{n+nx}{amount}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Forward funds}
    \PYG{k+kd}{function} \PYG{n+nx}{\PYGZus{}forwardFunds}\PYG{p}{(}\PYG{p}{)} \PYG{k+kr}{internal} \PYG{p}{\PYGZob{}}
        \PYG{c+c1}{// Postponed. Nothing to do here...}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Finalization}
    \PYG{k+kd}{function} \PYG{n+nx}{finalization}\PYG{p}{(}\PYG{p}{)} \PYG{k+kr}{internal} \PYG{p}{\PYGZob{}}
        \PYG{n+nb}{require}\PYG{p}{(}\PYG{k+kp}{now} \PYG{o}{\PYGZgt{}=} \PYG{n+nx}{closingTimeOfPublicSale} \PYG{o}{+} \PYG{n+nx}{MINIMUM\PYGZus{}KYC\PYGZus{}VERIFICATION\PYGZus{}PERIOD}\PYG{p}{)}\PYG{p}{;}

        \PYG{n+nx}{MintableToken}\PYG{p}{(}\PYG{n+nx}{token}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{mint}\PYG{p}{(}\PYG{n+nx}{teamAccount}\PYG{p}{,} \PYG{n+nx}{TOKEN\PYGZus{}SHARE\PYGZus{}OF\PYGZus{}TEAM}\PYG{p}{)}\PYG{p}{;}
        \PYG{n+nx}{MintableToken}\PYG{p}{(}\PYG{n+nx}{token}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{mint}\PYG{p}{(}\PYG{n+nx}{advisorsAccount}\PYG{p}{,} \PYG{n+nx}{TOKEN\PYGZus{}SHARE\PYGZus{}OF\PYGZus{}ADVISORS}\PYG{p}{)}\PYG{p}{;}
        \PYG{n+nx}{MintableToken}\PYG{p}{(}\PYG{n+nx}{token}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{mint}\PYG{p}{(}\PYG{n+nx}{legalsAccount}\PYG{p}{,} \PYG{n+nx}{TOKEN\PYGZus{}SHARE\PYGZus{}OF\PYGZus{}LEGALS}\PYG{p}{)}\PYG{p}{;}
        \PYG{n+nx}{MintableToken}\PYG{p}{(}\PYG{n+nx}{token}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{mint}\PYG{p}{(}\PYG{n+nx}{bounty}\PYG{p}{,} \PYG{n+nx}{TOKEN\PYGZus{}SHARE\PYGZus{}OF\PYGZus{}BOUNTY}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}

\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\chapter{VreoTokenBounty}
\label{\detokenize{_contracts/VreoTokenBounty:vreotokenbounty}}\label{\detokenize{_contracts/VreoTokenBounty::doc}}
\begin{sphinxVerbatim}[commandchars=\\\{\},numbers=left,firstnumber=1,stepnumber=1]
\PYG{k+kr}{pragma} \PYG{n+nx}{solidity} \PYG{l+m+mf}{0.4}\PYG{l+m+mf}{.24}\PYG{p}{;}

\PYG{k+kr}{import} \PYG{l+s+s2}{\PYGZdq{}../zeppelin/ownership/Ownable.sol\PYGZdq{}}\PYG{p}{;}
\PYG{k+kr}{import} \PYG{l+s+s2}{\PYGZdq{}./VreoToken.sol\PYGZdq{}}\PYG{p}{;}


\PYG{c+c1}{/// @title VreoTokenBounty}
\PYG{c+c1}{/// @author Autogenerated from a Dia UML diagram}
\PYG{k+kd}{contract} \PYG{n+nx}{VreoTokenBounty} \PYG{k+kr}{is} \PYG{n+nx}{Ownable} \PYG{p}{\PYGZob{}}

    \PYG{n+nx}{VreoToken} \PYG{k+kr}{public} \PYG{n+nx}{token}\PYG{p}{;}

    \PYG{c+c1}{/// @dev Log entry on token distributed}
    \PYG{c+c1}{/// @param recipient An Ethereum address}
    \PYG{c+c1}{/// @param amount A positive number}
    \PYG{k+kd}{event} \PYG{n+nx}{TokenDistributed}\PYG{p}{(}\PYG{k+kt}{address} \PYG{n+nx}{recipient}\PYG{p}{,} \PYG{k+kt}{uint} \PYG{n+nx}{amount}\PYG{p}{)}\PYG{p}{;}

    \PYG{c+c1}{/// @dev Constructor}
    \PYG{c+c1}{/// @param \PYGZus{}token A VreoToken}
    \PYG{k+kd}{constructor}\PYG{p}{(}\PYG{n+nx}{VreoToken} \PYG{n+nx}{\PYGZus{}token}\PYG{p}{)} \PYG{k+kr}{public} \PYG{p}{\PYGZob{}}
        \PYG{n+nb}{require}\PYG{p}{(}\PYG{k+kt}{address}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}token}\PYG{p}{)} \PYG{o}{!=} \PYG{k+kt}{address}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{)}\PYG{p}{)}\PYG{p}{;}

        \PYG{n+nx}{token} \PYG{o}{=} \PYG{n+nx}{\PYGZus{}token}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{/// @dev Distribute tokens}
    \PYG{c+c1}{/// @param \PYGZus{}recipients A list where each entry is an Ethereum address}
    \PYG{c+c1}{/// @param \PYGZus{}amounts A list where each entry is a positive number}
    \PYG{k+kd}{function} \PYG{n+nx}{distributeTokens}\PYG{p}{(}\PYG{k+kt}{address}\PYG{p}{[}\PYG{p}{]} \PYG{n+nx}{\PYGZus{}recipients}\PYG{p}{,} \PYG{k+kt}{uint}\PYG{p}{[}\PYG{p}{]} \PYG{n+nx}{\PYGZus{}amounts}\PYG{p}{)} \PYG{k+kr}{public} \PYG{n+nx}{onlyOwner} \PYG{p}{\PYGZob{}}
        \PYG{n+nb}{require}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}recipients}\PYG{p}{.}\PYG{n+nx}{length} \PYG{o}{==} \PYG{n+nx}{\PYGZus{}amounts}\PYG{p}{.}\PYG{n+nx}{length}\PYG{p}{)}\PYG{p}{;}

        \PYG{k}{for} \PYG{p}{(}\PYG{k+kt}{uint} \PYG{n+nx}{i} \PYG{o}{=} \PYG{l+m+mi}{0}\PYG{p}{;} \PYG{n+nx}{i} \PYG{o}{\PYGZlt{}} \PYG{n+nx}{\PYGZus{}recipients}\PYG{p}{.}\PYG{n+nx}{length}\PYG{p}{;} \PYG{o}{++}\PYG{n+nx}{i}\PYG{p}{)} \PYG{p}{\PYGZob{}}
            \PYG{n+nb}{require}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}amounts}\PYG{p}{[}\PYG{n+nx}{i}\PYG{p}{]} \PYG{o}{\PYGZlt{}=} \PYG{n+nx}{token}\PYG{p}{.}\PYG{n+nx}{balanceOf}\PYG{p}{(}\PYG{k}{this}\PYG{p}{)}\PYG{p}{)}\PYG{p}{;}  \PYG{c+c1}{// TODO: superfluous}

            \PYG{n+nx}{token}\PYG{p}{.}\PYG{n+nx}{transfer}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}recipients}\PYG{p}{[}\PYG{n+nx}{i}\PYG{p}{]}\PYG{p}{,} \PYG{n+nx}{\PYGZus{}amounts}\PYG{p}{[}\PYG{n+nx}{i}\PYG{p}{]}\PYG{p}{)}\PYG{p}{;}

            \PYG{k+kr}{emit} \PYG{n+nx}{TokenDistributed}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}recipients}\PYG{p}{[}\PYG{n+nx}{i}\PYG{p}{]}\PYG{p}{,} \PYG{n+nx}{\PYGZus{}amounts}\PYG{p}{[}\PYG{n+nx}{i}\PYG{p}{]}\PYG{p}{)}\PYG{p}{;}
        \PYG{p}{\PYGZcb{}}
    \PYG{p}{\PYGZcb{}}

\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\chapter{IconiqInterface}
\label{\detokenize{_contracts/IconiqInterface:iconiqinterface}}\label{\detokenize{_contracts/IconiqInterface::doc}}
\begin{sphinxVerbatim}[commandchars=\\\{\},numbers=left,firstnumber=1,stepnumber=1]
\PYG{k+kr}{pragma} \PYG{n+nx}{solidity} \PYG{l+m+mf}{0.4}\PYG{l+m+mf}{.24}\PYG{p}{;}


\PYG{c+c1}{/// @title IconiqInterface}
\PYG{c+c1}{/// @author Autogenerated from a Dia UML diagram}
\PYG{k+kr}{interface} \PYG{n+nx}{IconiqInterface} \PYG{p}{\PYGZob{}}

    \PYG{c+c1}{/// @dev Is allowed}
    \PYG{c+c1}{/// @param \PYGZus{}account An Ethereum address}
    \PYG{c+c1}{/// @return True or false}
    \PYG{k+kd}{function} \PYG{n+nx}{isAllowed}\PYG{p}{(}\PYG{k+kt}{address} \PYG{n+nx}{\PYGZus{}account}\PYG{p}{)} \PYG{k+kr}{external} \PYG{k+kr}{view} \PYG{k+kr}{returns} \PYG{p}{(}\PYG{k+kt}{bool}\PYG{p}{)}\PYG{p}{;}

\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}



\renewcommand{\indexname}{Index}
\printindex
\end{document}